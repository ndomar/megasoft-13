<<<<<<< HEAD
<%= stylesheet_link_tag "colorpicker"%>
<%= javascript_include_tag "colorpicker"%>
<%= stylesheet_link_tag "drag_drop"%>
<%= javascript_include_tag "drag_drop"%>
<%= stylesheet_link_tag "explorer"%>
<%= javascript_include_tag "explorer"%>  
<%= javascript_include_tag "cloud-carousel.1.0.5"%>  
<%= csrf_meta_tag %>

<!-- <html dir="rtl"> -->
<body>
	<!-- main div containing toolbox and design page -->
	<div id="wrapper" class="container-fluid">
		<!-- toolbox containing elements to add to the design page -->
		<div class='image-panel'>
			<form name='project' >
				<input type=hidden name='project_id' value='<%= @project.id %>' />
			<form/>
			<div id='image-panel-tag' class='sidebar-tag'>
				الصور
			</div>
			<div id="drop-area">
				ارمى صورة هنا لرفعها
			</div>
			<div id='image-panel'>
				<% @medias.each do |media| %>
				<div class='thumbnail'>
					<img  src='<%= "/assets/project_#{@project.id}/#{media.url}" %>' />
				</div>
				<%end%>
			</div>
		</div>	
		<div id="sidebar" class="row-fluid">
				<!-- table with all the available toolbox elements -->
				<div id='toolbox-tag' class='sidebar-tag'>
				الادوات
			</div>
			<div id = "designcontainer">
				<table>
					<tr>
						<table>
							<thead class="brand"><h3 style="text-align: center">صندوق الأدوات</h3></thead>
							<tbody>
								<tr class="trc">
									<td class="tbldevs" align="center">
										<div id="buttondiv" class="drag toolboxelement" onclickevent="#" onhoverevent= "#">
											<button class="toolboxelement btn">زر</button>
										</div>
									</td>
								</tr>
								<tr class="trc">
									<td class="tbldevs" align="center">
										<div id="imagediv" class="drag toolboxelement" onclickevent="#" onhoverevent= "#">
											<img src="/assets/gimg.jpg" width="20px" hight="20px" class="toolboxelement">
										</div>
									</td>
								</tr>
								<tr class="trc">
									<td class="tbldevs" align="center">
										<div id="labeldiv" width="20" class="drag toolboxelement" style="border: solid; border-width: 1px;" onclickevent="#" onhoverevent= "#">
											<label class="toolboxelement">ملصق</label>
										</div>
									</td>
								</tr>
								<tr class="trc">
									<td class="tbldevs" align="center">
										<div id="hyperlinkdiv" class="drag toolboxelement" onclickevent="#" onhoverevent= "#" style="border: solid">
											<a href="#" class="toolboxelement">رابط</a>
										</div>
									</td>
								</tr>
								<tr class="trc">
									<td class="tbldevs" align="center">
										<div id="textareadiv" class="drag toolboxelement" onclickevent="#" onhoverevent= "#">
											<textarea class = "toolboxelement"style="resize: none;width:35px;height:35px;"> الكتابة</textarea>
										</div>
									</td>
								</tr>
							</tbody>
						</table>
					</tr>
					<hr size="3">
					<tr>
						<div class="tabbable prop_cont"> <!-- Only required for left/right tabs -->
							<ul class="nav nav-tabs">
						    <li class="active prop_panel" style="margin-right: -2px; float: right;"><a href="#properties" data-toggle="tab">الخصائص</a></li>
						    <li class="prop_panel" style="float: right;"><a href="#events" data-toggle="tab">الأحداث</a></li>
							</ul>
							<!-- tabbed panel containing properties of the components. It is originally hidden -->
							<div class="tab-content">
						    <div class="tab-pane active properties" id="properties">
						      <div>
						      	<label id = "eid" class="p_prop">التعريف </label>
						      	<input id = "eid_inp" class="inp" property="id" readonly>
						      </div>
						      <div>
						      	<label id = "left" class="p_prop">الموقع من اليسار </label>
						      	<input id = "left_inp" class="inp" property="left" min="0">
						      </div>
						      <div>
						      	<label id = "top" class="p_prop">الموقع من فوق </label>
						      	<input id = "top_inp" class="inp" property="top" min="0">
						      </div>
						      <div>
						      	<label id = "text" class="p_prop">الكتابة </label>
						      	<input id = "text_inp" class="inp" property="text">
						      </div>
						     	<div>
						     		<label id = "width" class="p_prop">العرض </label>
						     		<input id = "width_inp" class="inp" property="width">
						     	</div>
						  		<div>
						  			<label id = "height" class="p_prop">الطول </label>
						  			<input id = "height_inp" class="inp" property="height">
						  		</div>
						      <div>
						      	<label id = "margin_left" class="p_prop">الحد من اليسار </label>
						      	<input id = "margin_left_inp" class="inp" property="margin-left">
						      </div>
						      <div>
						      	<label id = "margin_right" class="p_prop">الحد من اليمين </label>
						      	<input id = "margin_right_inp" class="inp" property="margin-right">
						   		</div>
				      		<div>
				      			<label id = "margin_top" class="p_prop">الحد من فوق </label>
				      			<input id = "margin_top_inp" class="inp" property="margin-top">
				      		</div>
				      		<div>
				      			<label id = "margin_bottom" class="p_prop">الحد من تحت </label>
				      			<input id = "margin_bottom_inp" class="inp" property="margin-bottom">
				      		</div>
				      		<div>
				      			<label id = "font_size" class="p_prop">حجم الخط </label>
				      			<input id = "font_size_inp" class="inp" property="font-size">
				      		</div>
				      		<div>
				      			<label id = "font_color" class="p_prop"class="p_prop">لون الخط </label>
				      			<div id = "font_color_inp" class="inp colordiv" property="color">
				      			</div>
				      		</div>
				      		<div>
				      			<label id = "text_align" class="p_prop">تحديد الكتابة </label>
				      			<input id = "text_align_inp" class="inp" property="text-align">
				      		</div>
						    </div>
							    	<!-- division containing the event controls of the components -->
							  <div class="tab-pane properties" id="events">
							    <label>نوع الحدث</label>
									<select id = "event_selector" style="width: 180px">
										<option value="onClick">عند الضغط</option>
										<option value="onHover">عند التحليق</option>
									</select>
							    <label>ردة الفعل</label>
									<select id = "action_selector" style="width: 180px">
										<option value="url">رابط</option>
										<option value="message">رسالة</option>
									</select>
									<label>حدد الرسالة أو الرابط</label>
							    <input id = "action_value" style="width: 175px;border-radius: 5px;"></input>
							    <br>
							    <br>
							    <button style="margin-left: 50px;border-radius: 5px;" id="save_event">حفظ الحدث</button>
					    	</div>
					  	</div>
						</div>
					</tr>
				</table>
			</div>
		</div>	
    <!-- empty design page -->            
    <div id="content">
	   	<div id="designpage" class="ui-widget-content row-fluid designpage" data-pageid="0">
	      <p>صمم صفحتك هنا</p>
		</div>
	</div>
  </div>  
  <script type="text/javascript">
  	initDragAndDrop();
  	// loadToDesign('<%= @originalPageHTML %>','<%= @originalPageID %>');
  </script>   

 
	</div>
	
</body>

<script>
	$(document).ready(function(){					   
		// This initialises carousels on the container elements specified, in this case, carousel1.
		$("#myCarousel").CloudCarousel({			
			xPos: 350,
			yPos: 32,
			buttonLeft: $("#left-but"),
			buttonRight: $("#right-but"),
			altBox: $("#alt-text"),
			titleBox: $("#title-text")
		});
	});
</script>
<div id="navbar" class="navbar span12" style="width:100%;height:225px; text-align:center;margin-top:75px; " >
	<div id="myCarousel" style="position: absolute; width:700px;height:180px;margin-left:20%; display: block;background-color:grey"> 
		<% @pages.each do |page| %>
			<% if page.file_dir_exists? ("app/assets/images/project_#{@id}/page_#{page.page_name}.png") %>
	    	<img id = '<%= page.id %>' class="cloudcarousel" src="/assets/project_<%= @id %>/page_<%= page.page_name %>.png" title="<%= page.page_name %>" style="position: absolute; z-index: 100; width: 100px; height: 100px;border-style:solid;" ondblclick="show('<%= page.id %>')" alt="<%= page.id %>">
		  <% else %>
	    	<img id = '<%= page.id %>' class="cloudcarousel" src="/assets/webPage.jpg" title="<%= page.page_name %>" style="position: absolute; z-index: 100; width: 100px; height: 100px; border-style:solid; border-width:2px; border-color:#CCCCCC;" ondblclick="show('<%= page.id %>','-1')" alt="<%= page.id %>">
		  <% end %>
		<% end %>
	</div>
	<div style="background-color:grey;position: absolute; width:700px;margin-left:20%;align:center">
		<br>
		<p id="title-text"></p>
		<p id="alt-text">0</p>
	</div>
	<div style="background-color:grey;position: absolute; width:700px;margin-left:20%;align:center;top-margin:-10">
		<img  id="left-but"  type="button" style="background-color:black"  src="/assets/Left_arrow.png"/>
		<a onclick="showpopup();return false;"><img src="/assets/add.png"></a>
		<a onclick="store();return false;"><img src="/assets/save.png"></a>
		<a onclick="deletePage();return false;"><img src="/assets/delete.png"></a>
		<img  id="right-but" type="button" style="background-color:black;-webkit-transform: rotate(180deg);-moz-transform: rotate(180deg);filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=2);"  src="/assets/Left_arrow.png"/>
	</div>
</div>